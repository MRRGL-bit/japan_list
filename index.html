<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>일본어 단어 퀴즈</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app">
    <!-- 설정 화면 -->
    <section id="setup-screen" class="screen active">
      <header class="header">
        <h1>日本語単語クイズ</h1>
        <p class="subtitle">일본어 단어 퀴즈</p>
      </header>

      <div class="setup-card">
        <div class="form-group">
          <label for="word-count">퀴즈 단어 개수</label>
          <div class="word-count-control">
            <input type="range" id="word-count" min="5" max="50" value="10" step="5">
            <span id="word-count-value">10</span>개
          </div>
        </div>

        <div class="form-group">
          <label>퀴즈 유형</label>
          <div class="quiz-type-buttons">
            <button type="button" class="quiz-type-btn active" data-type="multiple">
              <span class="type-icon">①②③④</span>
              <span>4지선다형</span>
            </button>
            <button type="button" class="quiz-type-btn" data-type="subjective">
              <span class="type-icon">✎</span>
              <span>주관식형</span>
            </button>
          </div>
        </div>

        <button type="button" id="start-btn" class="btn-primary">퀴즈 시작</button>
        <button type="button" id="mail-btn" class="btn-mail">✉ 메일 보내기</button>
      </div>
    </section>

    <!-- 퀴즈 화면 -->
    <section id="quiz-screen" class="screen">
      <div class="quiz-header">
        <span id="progress-text">1 / 10</span>
        <div class="progress-bar">
          <div id="progress-fill" class="progress-fill"></div>
        </div>
      </div>

      <div class="quiz-content">
        <!-- 4지선다형 -->
        <div id="multiple-quiz" class="quiz-type-panel">
          <p class="question-label">다음 단어의 뜻을 고르세요</p>
          <p id="multiple-question" class="question-word"></p>
          <p id="multiple-reading" class="question-reading"></p>
          <div id="multiple-choices" class="choices"></div>
        </div>

        <!-- 주관식형 -->
        <div id="subjective-quiz" class="quiz-type-panel hidden">
          <p class="question-label">다음 단어의 뜻을 입력하세요</p>
          <p id="subjective-question" class="question-word"></p>
          <p id="subjective-reading" class="question-reading"></p>
          <div class="answer-input-wrap">
            <input type="text" id="subjective-answer" class="answer-input" placeholder="뜻을 입력하세요" autocomplete="off">
            <button type="button" id="subjective-submit" class="btn-primary">확인</button>
          </div>
        </div>
      </div>

      <div id="feedback" class="feedback hidden">
        <p id="feedback-message"></p>
        <button type="button" id="next-btn" class="btn-primary">다음</button>
      </div>
    </section>

    <!-- 결과 화면 -->
    <section id="result-screen" class="screen">
      <header class="header">
        <h1>결과</h1>
      </header>
      <div class="result-card">
        <p class="score-text">정답 <span id="score-count">0</span> / <span id="total-count">0</span></p>
        <p class="score-percent" id="score-percent">0%</p>
        <div id="result-details" class="result-details"></div>
        <button type="button" id="retry-btn" class="btn-primary">다시 하기</button>
      </div>
    </section>
  </div>

  <!-- Resend: 문의 메일 (ssaebbung@gmail.com 수신) -->
  <div id="mail-modal" class="modal">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2>문의하기</h2>
        <button type="button" class="modal-close" id="mail-modal-close" aria-label="닫기">×</button>
      </div>
      <form id="mail-form" class="mail-form">
        <div class="form-group">
          <label for="contact-name">이름</label>
          <input type="text" id="contact-name" name="name" required placeholder="이름을 입력하세요">
        </div>
        <div class="form-group">
          <label for="contact-phone">전화번호</label>
          <input type="tel" id="contact-phone" name="phone" required placeholder="010-0000-0000">
        </div>
        <div class="form-group">
          <label for="contact-age">나이</label>
          <input type="number" id="contact-age" name="age" required min="1" max="120" placeholder="나이">
        </div>
        <div class="form-group">
          <label for="contact-email">이메일</label>
          <input type="email" id="contact-email" name="email" required placeholder="example@email.com">
        </div>
        <p id="mail-form-message" class="form-message hidden"></p>
        <button type="submit" id="mail-submit" class="btn-primary">보내기</button>
      </form>
    </div>
  </div>

  <script src="words.js"></script>
  <script src="app.js"></script>
</body>
</html>
